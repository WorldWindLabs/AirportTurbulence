<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airport Turbulence Visualization</title>
    
    <!-- Web WorldWind CSS and JS -->
    <link rel="stylesheet" href="https://files.worldwind.arc.nasa.gov/artifactory/web/0.9.0/worldwind.min.css">
    <script src="https://files.worldwind.arc.nasa.gov/artifactory/web/0.9.0/worldwind.min.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header>
            <h1>üå™Ô∏è Airport Turbulence Monitor</h1>
            <div class="status">
                <span id="connection-status">Connecting...</span>
                <span id="last-update">Never</span>
            </div>
        </header>

        <!-- Main content area -->
        <div class="main-content">
            <!-- WorldWind globe container -->
            <div id="globe-container">
                <canvas id="globe" width="1200" height="800">
                    Your browser does not support HTML5 Canvas.
                </canvas>
            </div>

            <!-- Control panel -->
            <div id="control-panel">
                <div class="panel-section">
                    <h3>üõ¨ Airports</h3>
                    <div id="airport-list">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>

                <div class="panel-section">
                    <h3>üé® Turbulence Scale</h3>
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #03fc1c;"></div>
                            <span>Light (0.0-0.2)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #f2ff00;"></div>
                            <span>Light-Moderate (0.2-0.4)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #ffb300;"></div>
                            <span>Moderate (0.4-0.6)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #ff1500;"></div>
                            <span>Moderate-Severe (0.6-0.8)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: #4c0261;"></div>
                            <span>Severe (0.8+)</span>
                        </div>
                    </div>
                </div>

                <div class="panel-section">
                    <h3>‚öôÔ∏è Controls</h3>
                    <button id="refresh-btn" class="btn">üîÑ Refresh Data</button>
                    <button id="auto-refresh-btn" class="btn" data-active="true">
                        üîÑ Auto-refresh: ON
                    </button>
                    <button id="reset-view-btn" class="btn">üåç Reset View</button>
                </div>

                <div class="panel-section">
                    <h3>‚ÑπÔ∏è Selected Airport</h3>
                    <div id="airport-details">
                        <p>Click on an airport to see details</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <p>Weather data from <a href="https://aviationweather.gov/" target="_blank" rel="noopener">Aviation Weather Center</a> | 
               Visualization powered by <a href="https://worldwind.arc.nasa.gov/" target="_blank" rel="noopener">NASA World Wind</a></p>
        </footer>
    </div>

    <!-- JavaScript modules -->
    <script src="js/api.js"></script>
    <script src="js/turbulence-visualizer.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
